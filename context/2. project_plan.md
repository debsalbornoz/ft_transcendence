**project plan and module justification** for the Transcendence project.

# Project Plan: Transcendence - Marketing/Lead Generation Platform

## **Project Overview & Core Concept**
- **Project Type:** A **real-world web application** for the Transcendence final project.
- **Core Business Goal:** To capture and qualify leads via email campaigns and direct users to a landing page with a form. The platform will also have a logged-in area for end customers (access to purchased products and chat) and an administrative area for the client (dashboards and campaign management).
- **This is a specific implementation proposal** within the broader Transcendence project guidelines.

---

## **Selected Modules & Point Summary**
The team has selected modules totaling **17 points** (exceeding the required 14).

| Category | Module | Type | Points |
| :--- | :--- | :--- | :--- |
| **IV.1 Web** | Framework (Frontend + Backend) | Major | 2 |
| **IV.3 User Management** | RBAC (Advanced Permissions) | Major | 2 |
| **IV.3 User Management** | Organization System | Major | 2 |
| **IV.7 DevOps** | Monitoring with Prometheus + Grafana | Major | 2 |
| **IV.8 Data & Analytics** | Advanced Analytics Dashboard | Major | 2 |
| **IV.1 Web** | ORM | Minor | 1 |
| **IV.1 Web** | Custom Design System | Minor | 1 |
| **IV.1 Web** | Advanced Search (filters, sorting, pagination) | Minor | 1 |
| **IV.3 User Management** | OAuth 2.0 (Remote Authentication) | Minor | 1 |
| **IV.8 Data & Analytics** | GDPR Compliance | Minor | 1 |
| **IV.1 Web** | Notification System | Minor | 1 |
| **IV.7 DevOps** | Health Check + Status + Backups | Minor | 1 |
| | **TOTAL:** | | **17** |

---

## **Detailed Module Justifications & Implementation**

### **1. Framework (Frontend + Backend) - Major (2pts)**
- **Category:** IV.1 Web
- **Definition:** Use a framework for both frontend and backend (or a full-stack framework). The framework provides structure, routing, lifecycle, code organization, and development patterns.
- **Chosen Technology:** **Next.js** - A full-stack React framework that serves both frontend and backend needs.
- **Application:**
    - **Frontend (Next.js):** 
        - Server-side rendering (SSR) and static generation for public pages, forms, logged-in area, and dashboards.
        - React-based component architecture with App Router.
        - Client-side interactivity with React hooks and state management.
    - **Backend (Next.js API Routes/Route Handlers):** 
        - API endpoints for authentication, RBAC, organizations, campaigns, and data management.
        - Server-side logic using Route Handlers (App Router) or API Routes.
        - Database integrations and business logic.
        - Middleware for authentication and request validation.
- **Why Next.js:** 
    - Unified codebase for frontend and backend reduces complexity.
    - Built-in TypeScript support for type safety across the stack.
    - Excellent performance with automatic code splitting and optimization.
    - Strong ecosystem and integration with React libraries.
    - Built-in routing, middleware, and API capabilities.
- **Evaluation Criterion:** It must be integrated into the product's main flow, not just "used."

### **2. RBAC (Advanced Permissions) - Major (2pts)**
- **Category:** IV.3 User Management
- **Definition:** Role-Based Access Control. Permissions are assigned to roles, and users are assigned roles, clearly defining "who can do what" in the system.
- **Application:**
    - Typical roles: `admin`, `consultant`, `end_customer`.
    - Apply in the backend (real endpoint protection) and reflect in the frontend (conditional UI).
    - Avoid scattered `if` statements and ensure auditing of sensitive actions.

### **3. Organization System - Major (2pts)**
- **Category:** IV.3 User Management
- **Definition:** Structures the product as **multi-tenant**. Users and data belong to an organization (e.g., a brokerage), isolating campaigns, contacts, and metrics per organization to reduce data leakage risk.
- **Application:**
    - CRUD for organizations and member management.
    - Data isolation by `organization_id` in queries and access policies.
    - Foundation for scaling the product to multiple clients in the future.

### **4. Monitoring with Prometheus + Grafana - Major (2pts)**
- **Category:** IV.7 DevOps
- **Definition:** Metric-based monitoring (not to be confused with logs). Prometheus collects metrics from services and infrastructure; Grafana displays dashboards and alerts. Focus is on operational health and early incident detection.
- **Application:**
    - Useful metrics: latency, error rate, throughput, CPU/memory usage, active connections, async jobs.
    - Grafana dashboards for API, database, and critical services.
    - **Evaluation:** Demonstrate real metrics, not just running containers.

### **5. Advanced Analytics Dashboard - Major (2pts)**
- **Category:** IV.8 Data & Analytics
- **Definition:** An analytical dashboard with interactive charts, period filters, customizable filters, and export functionality. Transforms campaign events (sent/open/click/bounce/unsubscribe) into useful indicators for decision-making.
- **Application:**
    - Charts: Time series (line), comparative (bar), distribution (pie or equivalent).
    - Filters: Date, campaign, segment, channel; pagination in associated listings.
    - Export: At least CSV, and possibly PDF.

### **6. ORM - Minor (1pt)**
- **Category:** IV.1 Web
- **Definition:** Object-Relational Mapping maps tables and relationships to code models, standardizing queries, migrations, and validations.
- **Chosen Technology:** **Prisma** - Modern ORM that works seamlessly with Next.js and TypeScript.
- **Application:** 
    - Typical entities: `User`, `Organization`, `Campaign`, `Contact`, `Message`, `Event`, `Unsubscribe`.
    - Type-safe database queries with auto-completion.
    - Declarative schema with automatic migrations.
    - Integration with Next.js API routes and server components.
- **Benefits:** 
    - Consistency across database operations.
    - Versioned migrations with `prisma migrate`.
    - Type safety from database to frontend.
    - Less duplicate SQL and better developer experience.
- **Cautions:** Avoid N+1 problems, choose indexes, control eager/lazy loading with `include` and `select`.

### **7. Custom Design System - Minor (1pt)**
- **Category:** IV.1 Web
- **Definition:** A set of reusable components and visual standards (colors, typography, icons) that ensure consistency and development speed.
- **Implementation Approach:** 
    - Build custom React components using **Tailwind CSS** for styling (utility-first approach).
    - Leverage **shadcn/ui** as a foundation for accessible, customizable components.
    - TypeScript for type-safe component props and variants.
- **Requirement:** At least **10 reusable components** (e.g., Button, Input, Select, Modal, Table, Badge, Card, Toast, Pagination, Loader).
- **Must document usage and variations** (sizes/states/feedback) in a component library or Storybook.
- **Integration with Next.js:**
    - Components work seamlessly with both Server and Client Components.
    - Optimized bundle size with tree-shaking.
    - Proper TypeScript interfaces for all component props.
- **Gains:** Consistent UI, less rework, fewer interface bugs, excellent developer experience.

### **8. Advanced Search - Minor (1pt)**
- **Category:** IV.1 Web
- **Definition:** Allows efficient exploration of large data lists with combinable filters, sorting, and pagination.
- **Applications:** Contacts, campaigns, leads, events.
- **Implementation with Next.js:**
    - Server-side filtering and sorting using Next.js Server Actions or API Routes.
    - URL-based state management with Next.js `searchParams` for shareable filtered views.
    - Efficient database queries with Prisma filtering and pagination.
    - Client-side UI with React components for filter controls.
- **Best Practices:** 
    - Filters on the backend to prevent data exposure.
    - Cursor-based or offset pagination with proper indexes.
    - Indexes on filtered columns for performance.
- **UX:** Maintain filter state in URL parameters and allow quick reset.

### **9. OAuth 2.0 - Minor (1pt)**
- **Category:** IV.3 User Management
- **Definition:** Allows login via external providers (Google, GitHub, 42, etc.), reducing friction and avoiding local password storage for these users.
- **Implementation with Next.js:**
    - Use **NextAuth.js (Auth.js)** - the standard authentication solution for Next.js.
    - Seamless integration with Next.js API Routes and middleware.
    - Built-in support for multiple OAuth providers (Google, GitHub, 42, etc.).
    - Session management with JWT or database sessions.
- **Flow:** 
    - Redirect to provider using NextAuth.js provider configuration.
    - Callback handling with automatic token exchange.
    - Creation/association of a local account with Prisma.
- **Cautions:** 
    - Validate state/nonce (handled by NextAuth.js).
    - Control sessions with proper configuration.
    - Handle existing users and account linking.
- **Complements** traditional login; does not replace authorization (RBAC).

### **10. GDPR Compliance - Minor (1pt)**
- **Category:** IV.8 Data & Analytics
- **Definition:** A set of features for transparency and control of personal data: export user data, request deletion, and confirm operations.
- **Application:**
    - Export data in a readable format (e.g., JSON/CSV).
    - Deletion with confirmation and request logging/auditing.
    - **Caution:** Define deletion vs. anonymization to maintain analytical integrity.

### **11. Notification System - Minor (1pt)**
- **Category:** IV.1 Web
- **Definition:** In-app notifications inform the user of important actions (creation, update, deletion) and relevant events (e.g., new lead, sending failure).
- **Implementation with Next.js:**
    - Toast notifications using React components (e.g., **react-hot-toast** or **sonner**).
    - Persistent notification center with Server Components for data fetching.
    - Real-time updates can be added with WebSockets or Server-Sent Events if needed.
    - State management with React Context or Zustand for notification queue.
- **Features:**
    - Immediate toast feedback for user actions.
    - Persistent notification center accessible from layout.
    - Register status (read/unread) in database via Prisma.
    - Quick action buttons when applicable.
- **Can be combined** with real-time (WebSockets) when necessary.

### **12. Health Check + Status + Backups - Minor (1pt)**
- **Category:** IV.7 DevOps
- **Definition:** Minimum operational set: health endpoints, status page, and backup/recovery procedures.
- **Application:**
    - **Health/Ready:** Check dependencies (database, essential services).
    - **Status Page:** Simple view of component states.
    - **Backups:** Automated routine and documented restore procedure (Disaster Recovery).

---

## **Technical Stack Summary**

### **Core Framework**
- **Next.js 14+** - Full-stack React framework with App Router
  - Frontend: React Server Components + Client Components
  - Backend: Route Handlers (API Routes)
  - Middleware for authentication and request processing

### **Language & Type Safety**
- **TypeScript** - End-to-end type safety from database to UI

### **Database & ORM**
- **PostgreSQL** - Primary database (or any SQL database supported by Prisma)
- **Prisma** - Type-safe ORM with schema migrations

### **Authentication**
- **NextAuth.js (Auth.js v5)** - Authentication with OAuth 2.0 and credentials

### **Styling & UI**
- **Tailwind CSS** - Utility-first CSS framework
- **shadcn/ui** - Accessible component foundation
- Custom component library with 10+ reusable components

### **Data Visualization**
- **Recharts** or **Chart.js** - For analytics dashboard charts
- **react-pdf** or **jsPDF** - PDF export functionality

### **DevOps & Monitoring**
- **Docker** - Containerization
- **Prometheus** - Metrics collection
- **Grafana** - Metrics visualization and dashboards
- **PostgreSQL Backups** - Automated backup procedures

### **Additional Libraries**
- **Zod** - Schema validation for forms and API inputs
- **react-hot-toast** or **sonner** - Toast notifications
- **date-fns** or **Day.js** - Date manipulation

---

## **Suggested Implementation Order & Demo Roadmap**

### **Implementation Phases:**
1.  **Base:** 
    - Set up Next.js project with TypeScript and App Router.
    - Configure Prisma ORM and design database schema.
    - Define data models: `User`, `Organization`, `Campaign`, `Event`.
    - Set up development environment with Docker.
2.  **Security:** 
    - Implement authentication with NextAuth.js (local credentials + OAuth).
    - Build RBAC system with middleware and role checking.
    - Implement organization-based data isolation.
    - Add session management and protected routes.
3.  **UX:** 
    - Create design system components with Tailwind CSS and shadcn/ui.
    - Build main pages using Next.js Server and Client Components:
        - Public landing page (SSR for SEO).
        - Logged-in area (dashboard, user profile).
        - Admin panel (organization and campaign management).
    - Implement responsive layouts and navigation.
4.  **Data:** 
    - Build advanced search with URL-based filters using Next.js searchParams.
    - Create analytical dashboard with interactive charts.
    - Implement data export (CSV/PDF) using Server Actions.
    - Add pagination and sorting for large datasets.
5.  **Operations:** 
    - Implement notification system (toast + persistent center).
    - Add health check endpoints using Next.js API Routes.
    - Configure Prometheus metrics export from Next.js.
    - Set up Grafana dashboards with real metrics.
    - Implement backup procedures and status page.

### **Short Demo Roadmap (8 Steps):**
1.  **Login** (local or OAuth) as admin.
2.  **Create/select** an organization and invite a user.
3.  **Validate RBAC:** Try to access a forbidden page with a different role (backend block).
4.  **Create a campaign** and import/select contacts (if applicable to your MVP).
5.  **List campaigns/contacts** with advanced search (filters/sorting/pagination).
6.  **Open the analytics dashboard**, apply a period filter, and export CSV/PDF.
7.  **Execute GDPR:** Export user data and request deletion/anonymization.
8.  **Show status/health** and Grafana dashboards with real metrics.

---

### **Key Takeaways for LLM Context:**
- This is a **concrete, planned implementation** of the Transcendence project with a **B2B marketing/lead generation focus**.
- The plan demonstrates **strategic module selection** to build a **multi-tenant SaaS platform**.
- **RBAC and Organization System** are core to the architecture, enabling secure, scalable client management.
- The **DevOps and Analytics modules** (Prometheus, Grafana, Dashboard) are chosen to support the operational and business intelligence needs of a real product.
- The **demo roadmap** is a practical guide for evaluation, showcasing integration and functionality of the chosen modules.
- This document serves as an excellent example of **how to justify module choices** by linking them directly to product requirements and technical architecture.
